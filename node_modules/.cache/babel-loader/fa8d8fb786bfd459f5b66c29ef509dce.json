{"remainingRequest":"/Users/edy/Documents/other/vue-system-admin/node_modules/babel-loader/lib/index.js!/Users/edy/Documents/other/vue-system-admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/edy/Documents/other/vue-system-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edy/Documents/other/vue-system-admin/src/components/common/commonTags.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/edy/Documents/other/vue-system-admin/src/components/common/commonTags.vue","mtime":1711099068124},{"path":"/Users/edy/Documents/other/vue-system-admin/babel.config.js","mtime":1711099068102},{"path":"/Users/edy/Documents/other/vue-system-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edy/Documents/other/vue-system-admin/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/edy/Documents/other/vue-system-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edy/Documents/other/vue-system-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBidXMgZnJvbSAiLi4vLi4vc2VydmljZS9idXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNvbW1vblRhZ3MiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWdzTGlzdDogW10KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5zZXRUYWdzKHRoaXMuJHJvdXRlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIpOaWreW9k+WJjei3r+eUseaYr+WQpuWMuemFjeW9k+WJjXRhZwogICAgaXNBY3RpdmUocGF0aCkgewogICAgICByZXR1cm4gcGF0aCA9PT0gdGhpcy4kcm91dGUuZnVsbFBhdGg7CiAgICB9LAogICAgLy8g5YWz6Zet5qCH562+CiAgICBjbG9zZVRhZ3MoaW5kZXgpIHsKICAgICAgbGV0IGN1cnJlbnRJdGVtID0gdGhpcy50YWdzTGlzdC5zcGxpY2UoaW5kZXgsIDEpWzBdOwogICAgICBsZXQgaXRlbSA9IHRoaXMudGFnc0xpc3RbaW5kZXhdID8gdGhpcy50YWdzTGlzdFtpbmRleF0gOiB0aGlzLnRhZ3NMaXN0W2luZGV4IC0gMV07CiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgY3VycmVudEl0ZW0ucGF0aCA9PT0gdGhpcy4kcm91dGUuZnVsbFBhdGggJiYgdGhpcy4kcm91dGVyLnB1c2goaXRlbS5wYXRoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Rhc2hib2FyZCIpOwogICAgICB9CiAgICB9LAogICAgLy8g6K6+572u5qCH562+CiAgICBzZXRUYWdzKHJvdXRlKSB7CiAgICAgIGxldCBpc0V4aXN0ID0gdGhpcy50YWdzTGlzdC5maW5kKGl0ZW0gPT4gewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IHJvdXRlLmZ1bGxQYXRoOwogICAgICB9KTsKICAgICAgaWYgKCFpc0V4aXN0KSB7CiAgICAgICAgaWYgKHRoaXMudGFnc0xpc3QubGVuZ3RoID49IDgpIHsKICAgICAgICAgIHRoaXMudGFnc0xpc3Quc2hpZnQoKTsKICAgICAgICB9CiAgICAgICAgdGhpcy50YWdzTGlzdC5wdXNoKHsKICAgICAgICAgIHRpdGxlOiByb3V0ZS5tZXRhLnRpdGxlLAogICAgICAgICAgcGF0aDogcm91dGUuZnVsbFBhdGgKICAgICAgICB9KTsKICAgICAgfQogICAgICBidXMuJGVtaXQoInRhZ3MiLCB0aGlzLnRhZ3NMaXN0KTsKICAgIH0sCiAgICAvLyDlhbPpl63lhbbku5bpgInpobkKICAgIGhhbmRsZUNsb3NlT3RoZXIoKSB7CiAgICAgIGxldCBjdXJyZW50SXRlbSA9IHRoaXMudGFnc0xpc3QuZmlsdGVyKGl0ZW0gPT4gewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IHRoaXMuJHJvdXRlLmZ1bGxQYXRoOwogICAgICB9KTsKICAgICAgdGhpcy50YWdzTGlzdCA9IGN1cnJlbnRJdGVtOwogICAgfSwKICAgIC8vIOWFs+mXreaJgOaciemAiemhuQogICAgaGFuZGxlQ2xvc2VBbGwoKSB7CiAgICAgIHRoaXMudGFnc0xpc3QgPSBbXTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9kYXNoYm9hcmQiKTsKICAgIH0sCiAgICAvLyDmoIfnrb7pgInpobkKICAgIGhhbmRsZVRhZ3ModmFsKSB7CiAgICAgIHZhbCA9PT0gIm90aGVyIiA/IHRoaXMuaGFuZGxlQ2xvc2VPdGhlcigpIDogdGhpcy5oYW5kbGVDbG9zZUFsbCgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZShuZXdWYWx1ZSkgewogICAgICB0aGlzLnNldFRhZ3MobmV3VmFsdWUpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dUYWdzKCkgewogICAgICByZXR1cm4gdGhpcy50YWdzTGlzdCAmJiB0aGlzLnRhZ3NMaXN0Lmxlbmd0aCA+IDA7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["bus","name","data","tagsList","created","setTags","$route","methods","isActive","path","fullPath","closeTags","index","currentItem","splice","item","$router","push","route","isExist","find","length","shift","title","meta","$emit","handleCloseOther","filter","handleCloseAll","handleTags","val","watch","newValue","computed","showTags"],"sources":["src/components/common/commonTags.vue"],"sourcesContent":["<template>\n  <div class=\"tags\" v-if=\"showTags\">\n    <ul>\n      <li\n        class=\"tags-li\"\n        v-for=\"(item, index) in tagsList\"\n        :key=\"index\"\n        :class=\"{'active': isActive(item.path)}\"\n      >\n        <router-link :to=\"item.path\" class=\"tags-li-title\">{{item.title}}</router-link>\n        <span class=\"tags-li-icon\" @click=\"closeTags(index)\">\n          <i class=\"el-icon-close\"></i>\n        </span>\n      </li>\n    </ul>\n    <div class=\"tags-close-box\">\n      <el-dropdown @command=\"handleTags\">\n        <el-button size=\"mini\" type=\"primary\" style=\"border-radius: 2px !important\">\n          标签选项\n          <i class=\"el-icon-arrow-down el-icon--right\"></i>\n        </el-button>\n        <el-dropdown-menu size=\"small\" slot=\"dropdown\">\n          <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\n          <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nimport bus from \"../../service/bus\";\nexport default {\n  name: \"commonTags\",\n  data() {\n    return {\n      tagsList: [],\n    };\n  },\n  created() {\n    this.setTags(this.$route);\n  },\n  methods: {\n    // 判断当前路由是否匹配当前tag\n    isActive(path) {\n      return path === this.$route.fullPath;\n    },\n\n    // 关闭标签\n    closeTags(index) {\n      let currentItem = this.tagsList.splice(index, 1)[0];\n      let item = this.tagsList[index]\n        ? this.tagsList[index]\n        : this.tagsList[index - 1];\n      if (item) {\n        currentItem.path === this.$route.fullPath &&\n          this.$router.push(item.path);\n      } else {\n        this.$router.push(\"/dashboard\");\n      }\n    },\n\n    // 设置标签\n    setTags(route) {\n      let isExist = this.tagsList.find((item) => {\n        return item.path === route.fullPath;\n      });\n      if (!isExist) {\n        if (this.tagsList.length >= 8) {\n          this.tagsList.shift();\n        }\n        this.tagsList.push({\n          title: route.meta.title,\n          path: route.fullPath,\n        });\n      }\n      bus.$emit(\"tags\", this.tagsList);\n    },\n\n    // 关闭其他选项\n    handleCloseOther() {\n      let currentItem = this.tagsList.filter((item) => {\n        return item.path === this.$route.fullPath;\n      });\n      this.tagsList = currentItem;\n    },\n\n    // 关闭所有选项\n    handleCloseAll() {\n      this.tagsList = [];\n      this.$router.push(\"/dashboard\");\n    },\n\n    // 标签选项\n    handleTags(val) {\n      val === \"other\" ? this.handleCloseOther() : this.handleCloseAll();\n    },\n  },\n  watch: {\n    $route(newValue) {\n      this.setTags(newValue);\n    },\n  },\n  computed: {\n    showTags() {\n      return this.tagsList && this.tagsList.length > 0;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.tags {\n  position: relative;\n  height: 38px;\n  overflow: hidden;\n  background: #fff;\n  padding-right: 120px;\n  box-shadow: 0 5px 10px #ddd;\n}\n\n.tags ul {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n}\n\n.tags-li {\n  float: left;\n  margin: 5px;\n  font-size: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  height: 26px;\n  line-height: 28px;\n  border: 1px solid #e9eaec;\n  background: #fff;\n  padding: 0 5px 0 12px;\n  vertical-align: middle;\n  color: #666;\n  -webkit-transition: all 0.3s ease-in;\n  -moz-transition: all 0.3s ease-in;\n  transition: all 0.3s ease-in;\n  border-radius: 2px;\n}\n\n.tags-li .active .tags-li-icon {\n  background-color: red;\n}\n\n.tags-li:not(.active):hover {\n  background: #f8f8f8;\n}\n\n.tags-li.active {\n  color: #fff;\n}\n\n.tags-li-title {\n  float: left;\n  max-width: 80px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin-right: 5px;\n  color: #666;\n}\n\n.tags-li.active .tags-li-title {\n  color: #fff;\n}\n\n.tags-close-box {\n  position: absolute;\n  right: 5px;\n  top: 0;\n  box-sizing: border-box;\n  padding-top: 5px;\n  text-align: center;\n  height: 30px;\n  z-index: 10;\n}\n\n.tags-li.active {\n  border: 1px solid #6190e8;\n  background-color: #6190e8;\n}\n</style>\n"],"mappings":";AA+BA,OAAAA,GAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,OAAA,MAAAC,MAAA;EACA;EACAC,OAAA;IACA;IACAC,SAAAC,IAAA;MACA,OAAAA,IAAA,UAAAH,MAAA,CAAAI,QAAA;IACA;IAEA;IACAC,UAAAC,KAAA;MACA,IAAAC,WAAA,QAAAV,QAAA,CAAAW,MAAA,CAAAF,KAAA;MACA,IAAAG,IAAA,QAAAZ,QAAA,CAAAS,KAAA,IACA,KAAAT,QAAA,CAAAS,KAAA,IACA,KAAAT,QAAA,CAAAS,KAAA;MACA,IAAAG,IAAA;QACAF,WAAA,CAAAJ,IAAA,UAAAH,MAAA,CAAAI,QAAA,IACA,KAAAM,OAAA,CAAAC,IAAA,CAAAF,IAAA,CAAAN,IAAA;MACA;QACA,KAAAO,OAAA,CAAAC,IAAA;MACA;IACA;IAEA;IACAZ,QAAAa,KAAA;MACA,IAAAC,OAAA,QAAAhB,QAAA,CAAAiB,IAAA,CAAAL,IAAA;QACA,OAAAA,IAAA,CAAAN,IAAA,KAAAS,KAAA,CAAAR,QAAA;MACA;MACA,KAAAS,OAAA;QACA,SAAAhB,QAAA,CAAAkB,MAAA;UACA,KAAAlB,QAAA,CAAAmB,KAAA;QACA;QACA,KAAAnB,QAAA,CAAAc,IAAA;UACAM,KAAA,EAAAL,KAAA,CAAAM,IAAA,CAAAD,KAAA;UACAd,IAAA,EAAAS,KAAA,CAAAR;QACA;MACA;MACAV,GAAA,CAAAyB,KAAA,cAAAtB,QAAA;IACA;IAEA;IACAuB,iBAAA;MACA,IAAAb,WAAA,QAAAV,QAAA,CAAAwB,MAAA,CAAAZ,IAAA;QACA,OAAAA,IAAA,CAAAN,IAAA,UAAAH,MAAA,CAAAI,QAAA;MACA;MACA,KAAAP,QAAA,GAAAU,WAAA;IACA;IAEA;IACAe,eAAA;MACA,KAAAzB,QAAA;MACA,KAAAa,OAAA,CAAAC,IAAA;IACA;IAEA;IACAY,WAAAC,GAAA;MACAA,GAAA,oBAAAJ,gBAAA,UAAAE,cAAA;IACA;EACA;EACAG,KAAA;IACAzB,OAAA0B,QAAA;MACA,KAAA3B,OAAA,CAAA2B,QAAA;IACA;EACA;EACAC,QAAA;IACAC,SAAA;MACA,YAAA/B,QAAA,SAAAA,QAAA,CAAAkB,MAAA;IACA;EACA;AACA","ignoreList":[]}]}