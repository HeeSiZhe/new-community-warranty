{"remainingRequest":"/Users/edy/Documents/other/vue-system-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edy/Documents/other/vue-system-admin/src/components/common/commonTags.vue?vue&type=style&index=0&id=2e3cd130&scoped=true&lang=css","dependencies":[{"path":"/Users/edy/Documents/other/vue-system-admin/src/components/common/commonTags.vue","mtime":1711099068124},{"path":"/Users/edy/Documents/other/vue-system-admin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edy/Documents/other/vue-system-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/edy/Documents/other/vue-system-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/edy/Documents/other/vue-system-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edy/Documents/other/vue-system-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci50YWdzIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgaGVpZ2h0OiAzOHB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgYmFja2dyb3VuZDogI2ZmZjsKICBwYWRkaW5nLXJpZ2h0OiAxMjBweDsKICBib3gtc2hhZG93OiAwIDVweCAxMHB4ICNkZGQ7Cn0KCi50YWdzIHVsIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKfQoKLnRhZ3MtbGkgewogIGZsb2F0OiBsZWZ0OwogIG1hcmdpbjogNXB4OwogIGZvbnQtc2l6ZTogMTJweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIGN1cnNvcjogcG9pbnRlcjsKICBoZWlnaHQ6IDI2cHg7CiAgbGluZS1oZWlnaHQ6IDI4cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2U5ZWFlYzsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIHBhZGRpbmc6IDAgNXB4IDAgMTJweDsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogIGNvbG9yOiAjNjY2OwogIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZS1pbjsKICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2UtaW47CiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZS1pbjsKICBib3JkZXItcmFkaXVzOiAycHg7Cn0KCi50YWdzLWxpIC5hY3RpdmUgLnRhZ3MtbGktaWNvbiB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmVkOwp9CgoudGFncy1saTpub3QoLmFjdGl2ZSk6aG92ZXIgewogIGJhY2tncm91bmQ6ICNmOGY4Zjg7Cn0KCi50YWdzLWxpLmFjdGl2ZSB7CiAgY29sb3I6ICNmZmY7Cn0KCi50YWdzLWxpLXRpdGxlIHsKICBmbG9hdDogbGVmdDsKICBtYXgtd2lkdGg6IDgwcHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIG1hcmdpbi1yaWdodDogNXB4OwogIGNvbG9yOiAjNjY2Owp9CgoudGFncy1saS5hY3RpdmUgLnRhZ3MtbGktdGl0bGUgewogIGNvbG9yOiAjZmZmOwp9CgoudGFncy1jbG9zZS1ib3ggewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogNXB4OwogIHRvcDogMDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIHBhZGRpbmctdG9wOiA1cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGhlaWdodDogMzBweDsKICB6LWluZGV4OiAxMDsKfQoKLnRhZ3MtbGkuYWN0aXZlIHsKICBib3JkZXI6IDFweCBzb2xpZCAjNjE5MGU4OwogIGJhY2tncm91bmQtY29sb3I6ICM2MTkwZTg7Cn0K"},{"version":3,"sources":["commonTags.vue"],"names":[],"mappings":";AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"commonTags.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n  <div class=\"tags\" v-if=\"showTags\">\n    <ul>\n      <li\n        class=\"tags-li\"\n        v-for=\"(item, index) in tagsList\"\n        :key=\"index\"\n        :class=\"{'active': isActive(item.path)}\"\n      >\n        <router-link :to=\"item.path\" class=\"tags-li-title\">{{item.title}}</router-link>\n        <span class=\"tags-li-icon\" @click=\"closeTags(index)\">\n          <i class=\"el-icon-close\"></i>\n        </span>\n      </li>\n    </ul>\n    <div class=\"tags-close-box\">\n      <el-dropdown @command=\"handleTags\">\n        <el-button size=\"mini\" type=\"primary\" style=\"border-radius: 2px !important\">\n          标签选项\n          <i class=\"el-icon-arrow-down el-icon--right\"></i>\n        </el-button>\n        <el-dropdown-menu size=\"small\" slot=\"dropdown\">\n          <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\n          <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nimport bus from \"../../service/bus\";\nexport default {\n  name: \"commonTags\",\n  data() {\n    return {\n      tagsList: [],\n    };\n  },\n  created() {\n    this.setTags(this.$route);\n  },\n  methods: {\n    // 判断当前路由是否匹配当前tag\n    isActive(path) {\n      return path === this.$route.fullPath;\n    },\n\n    // 关闭标签\n    closeTags(index) {\n      let currentItem = this.tagsList.splice(index, 1)[0];\n      let item = this.tagsList[index]\n        ? this.tagsList[index]\n        : this.tagsList[index - 1];\n      if (item) {\n        currentItem.path === this.$route.fullPath &&\n          this.$router.push(item.path);\n      } else {\n        this.$router.push(\"/dashboard\");\n      }\n    },\n\n    // 设置标签\n    setTags(route) {\n      let isExist = this.tagsList.find((item) => {\n        return item.path === route.fullPath;\n      });\n      if (!isExist) {\n        if (this.tagsList.length >= 8) {\n          this.tagsList.shift();\n        }\n        this.tagsList.push({\n          title: route.meta.title,\n          path: route.fullPath,\n        });\n      }\n      bus.$emit(\"tags\", this.tagsList);\n    },\n\n    // 关闭其他选项\n    handleCloseOther() {\n      let currentItem = this.tagsList.filter((item) => {\n        return item.path === this.$route.fullPath;\n      });\n      this.tagsList = currentItem;\n    },\n\n    // 关闭所有选项\n    handleCloseAll() {\n      this.tagsList = [];\n      this.$router.push(\"/dashboard\");\n    },\n\n    // 标签选项\n    handleTags(val) {\n      val === \"other\" ? this.handleCloseOther() : this.handleCloseAll();\n    },\n  },\n  watch: {\n    $route(newValue) {\n      this.setTags(newValue);\n    },\n  },\n  computed: {\n    showTags() {\n      return this.tagsList && this.tagsList.length > 0;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.tags {\n  position: relative;\n  height: 38px;\n  overflow: hidden;\n  background: #fff;\n  padding-right: 120px;\n  box-shadow: 0 5px 10px #ddd;\n}\n\n.tags ul {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n}\n\n.tags-li {\n  float: left;\n  margin: 5px;\n  font-size: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  height: 26px;\n  line-height: 28px;\n  border: 1px solid #e9eaec;\n  background: #fff;\n  padding: 0 5px 0 12px;\n  vertical-align: middle;\n  color: #666;\n  -webkit-transition: all 0.3s ease-in;\n  -moz-transition: all 0.3s ease-in;\n  transition: all 0.3s ease-in;\n  border-radius: 2px;\n}\n\n.tags-li .active .tags-li-icon {\n  background-color: red;\n}\n\n.tags-li:not(.active):hover {\n  background: #f8f8f8;\n}\n\n.tags-li.active {\n  color: #fff;\n}\n\n.tags-li-title {\n  float: left;\n  max-width: 80px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin-right: 5px;\n  color: #666;\n}\n\n.tags-li.active .tags-li-title {\n  color: #fff;\n}\n\n.tags-close-box {\n  position: absolute;\n  right: 5px;\n  top: 0;\n  box-sizing: border-box;\n  padding-top: 5px;\n  text-align: center;\n  height: 30px;\n  z-index: 10;\n}\n\n.tags-li.active {\n  border: 1px solid #6190e8;\n  background-color: #6190e8;\n}\n</style>\n"]}]}